# <center>指针的进阶</center>
## 字符指针 
**char***
一般使用
```c
int main()
{
	char ch = 'w';
	char* pc = &ch;
	*pc = 'b';
	return 0;
} 
```
还有一种使用方法
```c
int main()
{
    const char *p="abcdef";//把字符串首字符a的地址赋值给了p
    //abcdef\0
    printf("%s\n",p);//  %s给地址就行了
    //结果 abcdef

}
```
面试题
```c
int main()
{
    const char *p1="abcdef";
    const char *p2="abcdef";

    char arr1[]="abcdef";
    char arr2[]="abcdef";

    if(p1==p2)
        printf("p1==p2\n");
    else
        printf("p1!=p2\n");

    if(arr1==arr2)
        printf("arr1==arr2\n");
    else 
        printf("arr1!=arr2\n");
    return 0;
}
```
**答案: 
p1==p2** 
**arr1！=arr2** 

## 指针数组 
复习一下 
**指针数组是数组，是用来存放指针的** 
```c
int * arr1[10]; //整形指针的数组
char *arr2[4];  //一级字符指针的数组
char **arr3[5];  //二级字符指针的数组 
```
```c
int main()
{
    int arr1[]={1,2,3,4,5};
    int arr2[]={2,3,4,5,6};
    int arr3[]={3,4,5,6,7};

    int *parr[3]={arr1,arr2,arr3};
    //0 1 2
    int i=0;
    for(i=0;i<3;i++)
    {
        int j=0;
        for(j=0;j<5;j++)
        {
            printf("%d ",*(parr[i]+j));
            //  或者 printf("%d ",parr[i][j])
        }
        printf("\n");
    }

    return 0;
} 
```
**运行结果: 
12345 
23456 
34567** 

## 数组指针 

**是指针** 

**整型指针-指向整型的指针-int*** 

**字符指针-指向字符的指针-char*** 
~~~c 
int *p1[10];  //p1是指针数组
int (*p2)[10];  //p2是数组指针，p2可以指向一个数组，该数组有十个元素，每个元素是int类型
~~~
再次讨论数组名
```c
int main()
{
    int arr[10]={0};
    printf("%p\n",arr);
    printf("%p\n",&arr[0]);
    return 0;

} 
//结果一样
```
```c 
int main()
{
    int arr[10]={0};
    int sz=sizeof(arr);
    printf("%d\n",sz);
    // 40
    return 0;
}
```
**<font color=red>数组名通常表示的都是数组首元素地址 
但是有两个例外： 
1.<font color=green>sizeof(数组名)</font>，这里的数组名表示整个数组 
2.<font color=green>&数组名</font>，这里的数组名表示的是整个数组，所以&数组名取的是整个数组的地址</font>** 

```c 
int main()
{
    int arr[10]={0};
    printf("%p\n",arr);
    printf("%p\n",arr+1);

    printf("%p\n",&arr[0]);
    printf("%p\n",&arr[0]+1);

    printf("%d\n",&arr);
    printf("%d\n",&arr+1);
    return 0;

} 
```
<font color=red>最后一组与前面两组不同</font>

***

~~~c 
int main()
{
    int arr[10]={0};
    int *p=arr;
    int (*p2)[10]=&arr;  //  数组指针
}
~~~
<font color=red>p2是数组指针</font>

***

```c
int main()
{
    char * arr[5]={0};
    char* (*pc)[5]=&arr;
    return 0;
}
```
```c
int main()
{
    int arr[]={1,2,3,4,5,6,7,8,9,10};
    int *p=arr;
    int i=0;
    for (i=0;i<10;i++)
    {
        printf("%d ",*(p+i));
    }
    // int (*p)[10]=&arr;

    // int i=0;
    // int sz=sizeof(arr)/sizeof(arr[0]);
    // for(i=0;i<sz;i++)
    // {
    //     printf("%d ",(*p+i));// p是指向数组的，*p其实就相当于数组名，数组名又是首元素的地址，所以*p本质上是数组首元素地址

    // }
    return 0;
} 
```
```c 
void print1(int arr[3][5],int r,int c)
{
    int i=0;
    for (i=0;i<r;i++)
    {
        int j=0;
        for(j=0;j<c;j++)
        {
            printf("%d ",arr[i][j]);
        }
        printf("\n");
    }
}

void print2(int(*p)[5],int r，int c)
{
    int i=0;
    for(i=0;i<r;i++)
    {
        int j=0;
        for(j=0;j<c;j++)
        {
            printf("%d ",*(*(p+i)+j));
        }
        printf("\n");
    }
}
int main()
{
    int arr[3][5]={1,2,3,4,5,2,3,4,5,6,3,4,5,6,7};
    print1(arr,3,5);//arr表示第一行的地址，是个一维数组的地址
    print2(arr,3,5);
    return 0;
}
```
int (*p)[5]:

p 的类型是: int(*)[5]

p 是指向一个整型数组的，数组5个元素 int[5]

p+1->跳过5个int元素的数组